<!DOCTYPE html>
<html>
<head>
  <title>Lobby - Pai Game-Zone</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ğŸ° Pai Game-Zone Lobby ğŸ²</h1>
    <p>Welcome, <span id="userDisplay"></span></p>
    <p>Coins: <span id="coinDisplay"></span></p>

    <button onclick="goTo('slot.html')">ğŸ° Play Slot Game</button><br>
    <button onclick="goTo('topup.html')">ğŸ’° Top-up Coins</button><br>
    <button onclick="goTo('admin.html')">ğŸ› ï¸ Admin Panel</button><br>
    <button onclick="logout()">Logout</button>
  </div>

  <script>
    function goTo(page) {
      window.location.href = page;
    }

    function logout() {
      localStorage.removeItem('loggedInUser');
      window.location.href = 'login.html';
    }

    function checkLogin() {
      const user = localStorage.getItem('loggedInUser');
      if (!user) {
        window.location.href = 'login.html';
        return null;
      }
      return user;
    }

    function loadUserData() {
      const user = checkLogin();
      if (!user) return;

      const users = JSON.parse(localStorage.getItem('users')) || {};
      const coins = users[user] ? users[user].coins : 0;

      document.getElementById('userDisplay').innerText = user;
      document.getElementById('coinDisplay').innerText = coins;
    }

    loadUserData();
  </script>
</body>
</html>
